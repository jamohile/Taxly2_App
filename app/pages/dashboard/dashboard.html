<StackLayout xmlns="http://schemas.nativescript.org/tns.xsd" xmlns:lv="nativescript-telerik-ui/listview">
    <ActionBar title="Dashboard" icon="" class="action_bar">
    </ActionBar>

    <StackLayout>
        <Label class="label centered" text="Totals"></Label>
        <lv:RadListView id="totals_container" [items]="fields">
            <ng-template let-item="item">
                <StackLayout class="total rounded" [class.positive]="item.type == 'income'" [class.negative]="item.type != 'income'">
                    <Label class="item_name" [text]="item.name" textWrap="true"></Label>
                    <Label class="item_value" [text]="'$' + item.total" textWrap="true"></Label>
                </StackLayout>
            </ng-template>
            <lv:ListViewLinearLayout tkListViewLayout scrollDirection="Horizontal"> </lv:ListViewLinearLayout>
        </lv:RadListView>

        <Label class="label centered" text="Months"></Label>
        <Button class="dark" text="Add Month" (tap)="addMonth()"></Button>

            <ListView id="months_container" [items]="months">
                <ng-template let-item="item">
                    <StackLayout [nsRouterLink] = "['/month', item.month]">
                        <Label class="label left" [text]="item.month" textWrap="true"></Label>
                        <lv:RadListView id="totals_container" [items]="item.fields">
                            <ng-template let-item="item">
                                <StackLayout class="total rounded" [class.positive]="name_to_fields[item.name].type == 'income'" [class.negative]="name_to_fields[item.name].type != 'income'">
                                    <Label class="item_name" [text]="item.name" textWrap="true"></Label>
                                    <Label class="item_value" [text]="'$' + item.value" textWrap="true"></Label>
                                </StackLayout>
                            </ng-template>
                            <lv:ListViewLinearLayout tkListViewLayout scrollDirection="Horizontal"> </lv:ListViewLinearLayout>
                        </lv:RadListView>
                    </StackLayout>
                </ng-template>
            </ListView>
    </StackLayout>
</StackLayout>